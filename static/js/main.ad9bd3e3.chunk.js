(this["webpackJsonpburguer-queen"]=this["webpackJsonpburguer-queen"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logoReina.41f17378.svg"},30:function(e,t,a){e.exports=a(43)},35:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),o=a.n(r),l=(a(35),a(6)),s=a(7),i=a(29),m=a(2),d=a(12),u=a(16),E=a.n(u);a(24);E.a.initializeApp({apiKey:"AIzaSyCvX8FT01Vxj_C015ToQQgoyhWwSkSEtd8",authDomain:"burger-queen-ap.firebaseapp.com",databaseURL:"https://burger-queen-ap.firebaseio.com",projectId:"burger-queen-ap",storageBucket:"burger-queen-ap.appspot.com",messagingSenderId:"548403669843",appId:"1:548403669843:web:fe659489c5f749a0f04fa6"});var b=E.a,p=function(e){var t=e.documento,a=e.buscarProducto,n=t.data(),r=n.producto,o=n.precio,l=n.url;return c.a.createElement("section",{"data-testid":"itemsproductos",className:"card style prod"},c.a.createElement("div",{"data-testid":"clickProducto",key:t.id,onClick:function(){a(t.data(),t.id)}},c.a.createElement("img",{src:l,className:"card-img img",alt:"producto"}),c.a.createElement("h5",{"data-testid":"item"},r),c.a.createElement("p",{"data-testid":"item"},"S/.",o)))};a(9);var f=function(e){var t=e.buscarProductos,a=Object(n.useState)("desayuno"),r=Object(m.a)(a,2),o=r[0],l=r[1],s=Object(d.a)(b.firestore().collection("Menu"),{snapshotListenOptions:{includeMetadataChanges:!0}}),i=Object(m.a)(s,3),u=i[0],E=i[1],f=i[2];return c.a.createElement("section",null,f&&c.a.createElement("strong",null,"Error: ",JSON.stringify(f)),E&&c.a.createElement("span",null," Loading..."),u&&c.a.createElement("section",null,c.a.createElement("h1",{className:"text-center text-black"},"LISTA DE PRODUCTOS"),c.a.createElement("aside",{className:"p"},c.a.createElement("button",{type:"button",className:"btn btn-success m-3",onClick:function(){return l("desayuno")}},"Desayuno"),c.a.createElement("button",{type:"button",className:"btn btn-success m-3",onClick:function(){return l("hamburguesa")}},"Hamburguesas"),c.a.createElement("button",{type:"button",className:"btn btn-success m-3",onClick:function(){return l("acompa\xf1amientos")}},"Acompa\xf1amientos"),c.a.createElement("button",{type:"button",className:"btn btn-success m-3",onClick:function(){return l("bebida")}},"Bebidas")),c.a.createElement("section",{className:"p"},u.docs.filter((function(e){return e.data().categoria===o})).map((function(e){return c.a.createElement(p,{documento:e,key:e.id,buscarProducto:t})})))))},h=function(e){var t=e.dataProducto,a=e.eliminarProducto,r=e.cantidadproducto,o=t.cantidad,l=t.producto,s=t.precio,i=Object(n.useState)(o),d=Object(m.a)(i,2),u=d[0],E=d[1];return c.a.createElement("section",{className:"row justify-content-between"},c.a.createElement("input",{"data-testid":"clickCantidad",className:"col-sm-1 ml-3 form-control tama\xf1o",type:"text",onChange:function(e){var a=e.target.value;r(t.id,a),E(a)},placeholder:"N\xb0"}),c.a.createElement("h6",{"data-testid":"items",className:"col-sm-5 text-white"},l),c.a.createElement("h6",{"data-testid":"items",className:"col-sm-2 text-white"},s),c.a.createElement("h6",{"data-testid":"items",className:"col-sm-2 text-white"},"S/.",s*u),c.a.createElement("button",{"data-testid":"clickEliminar",className:"btn btn-light",onClick:function(){a(t)}},c.a.createElement("svg",{className:"bi bi-trash",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"}),c.a.createElement("path",{d:"M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))))},g=function(e){var t=e.array,a=e.eliminarProductos,r=e.cantidadProductos,o=e.buscarDatoCliente,l=Object(n.useState)(""),s=Object(m.a)(l,2),i=s[0],d=s[1],u=Object(n.useState)(""),E=Object(m.a)(u,2),b=E[0],p=E[1];return Object(n.useEffect)((function(){o(i,b)})),c.a.createElement("section",null,c.a.createElement("aside",{"data-testid":"listapedido"},c.a.createElement("h1",{className:"text-center text-white"},"DETALLES DE PEDIDO"),c.a.createElement("form",{className:"text-center p m-2 p-3 mb-2 bg-success text-white rounded-pill"},c.a.createElement("label",{className:"mr-2"}," Nombre ",c.a.createElement("input",{className:"form-control",type:"text",onChange:function(e){d(e.target.value)},placeholder:"Ejemplo: Mary",value:i})," "),c.a.createElement("label",null," N\xb0 de Mesa ",c.a.createElement("input",{className:"form-control",type:"text",onChange:function(e){p(e.target.value)},placeholder:"1",value:b})," ")),c.a.createElement("table",{className:"table table-sm "},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Cantidad"),c.a.createElement("th",{scope:"col "},"Nombre del Producto"),c.a.createElement("th",{scope:"col"},"Precio Unitario"),c.a.createElement("th",{scope:"col mr-8 "},"Precio Total"),c.a.createElement("th",{scope:"col"}," Eliminar"))))),0===t.length?"Iniciar Pedido":t.map((function(e,t){return c.a.createElement(h,{dataProducto:e,key:t,eliminarProducto:a,cantidadproducto:r})})))},N=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2)[1],a=Object(n.useState)([]),r=Object(m.a)(a,2),o=r[0],l=r[1],s=Object(n.useState)([]),d=Object(m.a)(s,2),u=d[0],E=d[1],p=Object(n.useState)([]),h=Object(m.a)(p,2),N=h[0],v=h[1];var O=function(){var e=0;return 0!==N.length&&(e=N.reduce((function(e,t){return e+t.precio*t.cantidad}),0)),e};return c.a.createElement("main",null,c.a.createElement("div",{className:"container-fluid "},c.a.createElement("div",{className:"row"},c.a.createElement("section",{className:"col-sm-12 col-md-6 fondo"},c.a.createElement(f,{buscarProductos:function(e,t){if(0===N.filter((function(e){return e.id===t})).length){var a={cantidad:1,producto:e.producto,precio:e.precio,id:t,url:e.url},n=N.concat([a]);v(n)}}})),c.a.createElement("section",{className:"col-sm-12 col-md-6 plomo "},c.a.createElement(g,{array:N,eliminarProductos:function(e){var a=N,n=a.indexOf(e);n>=0&&a.splice(n,1),v(a),t({})},cantidadProductos:function(e,t){var a=N.map((function(a){return e===a.id?Object(i.a)({},a,{cantidad:t}):a}));v(a)},buscarDatoCliente:function(e,t){l(e),E(t)}})))),c.a.createElement("section",{className:"container"},c.a.createElement("div",{className:" row justify-content-end fixed-bottom "},c.a.createElement("div",{className:"col-sm-3 verde text-center"},c.a.createElement("h3",{"data-testid":"montoTotal"},"Total S. ",O())),c.a.createElement("div",{className:"col-sm-2"},c.a.createElement("button",{className:"btn btn-secondary btn-lg btn-block",type:"button",onClick:function(){var e,t,a,n,c,r;(e=o,t=u,a=N,n="Pendiente",c=O(),r=new Date,b.firestore().collection("Orden").add({nombre:e,mesa:t,producto:a,fecha:r,estado:n,totalp:c})).then((function(){v([])}))}},"Enviar")))))},v=a(17),O=a.n(v),P=function(e){return e.ocultar?c.a.createElement(l.b,null,c.a.createElement("div",{"data-testid":"imagen"},c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{src:O.a,className:"App-logo img-fluid",alt:"logo"}),c.a.createElement(l.c,{className:"btn btn-success float-right m-5 btn-lg border border-light",to:"/chef"}," Ver Pedidos ")))):c.a.createElement(l.b,null,c.a.createElement("div",{"data-testid":"imagen"},c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{src:O.a,className:"App-logo img-fluid",alt:"logo"}),c.a.createElement(l.c,{className:"btn btn-success float-right m-5 btn-lg border border-light",to:"/"},"Regresar a Menu"))))},k=function(){return c.a.createElement("div",null,c.a.createElement(P,{ocultar:!0}),c.a.createElement(N,null))},w=function(e){var t=e.id.id,a=e.documento,r=a.nombre,o=a.estado,l=a.fecha,s=a.producto,i=a.mesa,d=a.totalp,u=a.duracion,E=Object(n.useState)(0),p=Object(m.a)(E,2),f=p[0],h=p[1],g=function(){var e=new Date-l.toDate();console.log(e);var t=function(e){return(e<10?"0":"")+e},a=(e=(e-e%1e3)/1e3)%60,n=(e=(e-a)/60)%60,c="".concat(t((e-n)/60),":").concat(t(n),":").concat(t(a));h(c)};return c.a.createElement("div",{className:"col-sm-6 border border-success",key:e.id},c.a.createElement("h2",{className:"text-white text-center"},o),c.a.createElement("div",{className:"row m-3"},c.a.createElement("p",{className:"col-sm-4 datos"}," ",c.a.createElement("span",{className:"textos"},"Cliente:")," ",r," "),c.a.createElement("p",{className:"col-sm-3 datos"}," ",c.a.createElement("span",{className:"textos"},"Mesa: "),c.a.createElement("br",null),i," "),c.a.createElement("p",{"data-testid":"horaPedido",className:"col-sm-5 datos"}," ",c.a.createElement("span",{className:"textos"}," Hora de Pedido: "),c.a.createElement("br",null)," ",l.toDate().getHours()," : ",l.toDate().getMinutes()," ")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-7"},c.a.createElement("p",null,c.a.createElement("span",{className:"textos"},"Productos a Preparar")),s.map((function(e){return c.a.createElement("div",null,c.a.createElement("p",{className:"datos"},e.cantidad," ",c.a.createElement("span",null,e.producto)))}))),c.a.createElement("div",{className:"col-sm-4 datos"},c.a.createElement("p",null," ",c.a.createElement("span",{className:"textos"},"Total Pedido ")," ",d," "),"Pendiente"===o&&c.a.createElement("p",null," ",c.a.createElement("span",{className:"textos"},"Tiempo del Pedido ")," ",f," "),"Listo"===o&&c.a.createElement("p",null," ",c.a.createElement("span",{className:"textos"},"Duracion")," ",u," "))),c.a.createElement("div",{className:"row  m-1"},c.a.createElement("div",{className:"col-sm-6"},"Pendiente"===o&&c.a.createElement("button",{className:"btn btn-danger m-3",onClick:function(){g(),function(e,t){b.firestore().collection("Orden").doc(e).update({estado:"Listo",duracion:t})}(t,f)}},"Pedido Listo"),"Listo"===o&&c.a.createElement("button",{className:" btn btn-danger m-3",type:"button",onClick:function(){!function(e){b.firestore().collection("Orden").doc(e).update({estado:"Entregado"})}(t)}}," Pedido Entregado "),"Entregado"===o&&c.a.createElement("p",null,"El pedido fue entregado con exito")),c.a.createElement("div",{className:"col-sm-6"},"Pendiente"===o&&c.a.createElement("button",{className:" btn btn-success m-3",onClick:function(){g()}},"Duracion Pedido"))))},y=function(){var e=Object(n.useState)("Pendiente"),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(d.a)(b.firestore().collection("Orden").orderBy("fecha","asc"),{snapshotListenOptions:{includeMetadataChanges:!0}}),l=Object(m.a)(o,3),s=l[0],i=l[1],u=l[2];return c.a.createElement("section",null,u&&c.a.createElement("strong",null,"Error: ",JSON.stringify(u)),i&&c.a.createElement("span",null," Loading..."),s&&c.a.createElement("main",{className:"fondito"},c.a.createElement("div",{className:"p"},c.a.createElement("button",{className:"btn btn-success m-3 border border-dark",onClick:function(){return r("Pendiente")}},"Ver Pendientes"),c.a.createElement("button",{className:"btn btn-success m-3 border border-dark",onClick:function(){return r("Listo")}},"Ver Listos"),c.a.createElement("button",{className:"btn btn-success m-3 border border-dark",onClick:function(){return r("Entregado")}},"Ver Entregados")),c.a.createElement("aside",{className:"container"},c.a.createElement("section",{className:"row tabla"},s.docs.filter((function(e){return e.data().estado===a})).map((function(e){return c.a.createElement(w,{documento:e.data(),key:e.id,id:e})}))))))},j=function(){return c.a.createElement("div",null,c.a.createElement(P,{ocultar:!1}),c.a.createElement(y,null))},x=function(){return c.a.createElement(l.b,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:k}),c.a.createElement(s.a,{path:"/chef",component:j})))},C=function(){return c.a.createElement("div",null,c.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(l.a,null," ",c.a.createElement(C,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){}},[[30,1,2]]]);
//# sourceMappingURL=main.ad9bd3e3.chunk.js.map